<!-- Barra de Navegación -->
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-3">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">Active</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          Dropdown
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
          <li><a class="dropdown-item" href="#">Action</a></li>
          <li><a class="dropdown-item" href="#">Another action</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
      </li>
    </ul>
  </div>
</nav>

<!-- Contenido de la Lista de Citas -->
<div class="container mt-4">
  <div class="d-flex justify-content-between mb-3">
    <h2>Lista de Citas</h2>
    <button class="btn btn-primary" (click)="openModal()">Registrar Nueva Cita</button>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <input type="text" class="form-control" placeholder="Búsqueda por DNI" [(ngModel)]="filtroDNI">
    </div>
    <div class="col-md-4">
      <input type="date" class="form-control" placeholder="Búsqueda por fecha" [(ngModel)]="filtroFecha">
    </div>
    <div class="col-md-4">
      <select class="form-control" [(ngModel)]="filtroEstado">
        <option value="">Todos los estados</option>
        <option value="Pendiente">Pendiente</option>
        <option value="Activa">Activa</option>
        <option value="Terminada">Terminada</option>
      </select>
    </div>
  </div>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th>
        <th>DNI</th>
        <th>Nombre</th>
        <th>Apellidos</th>
        <th>Fecha</th>
        <th>Estado</th>
        <th>Opciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cita of filtrarCitas(); let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ cita.dni }}</td>
        <td>{{ cita.nombre }}</td>
        <td>{{ cita.apellidos }}</td>
        <td>{{ cita.fecha | date:'dd/MM/yyyy' }}</td>
        <td>
          <span [ngClass]="{'badge bg-primary': cita.estado === 'Pendiente', 'badge bg-success': cita.estado === 'Activa', 'badge bg-danger': cita.estado === 'Terminada'}">
            {{ cita.estado }}
          </span>
        </td>
        <td>
          <button class="btn btn-info btn-sm me-1" (click)="editarCita(cita)">Editar</button>
          <button class="btn btn-danger btn-sm" (click)="eliminarCita(i)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
